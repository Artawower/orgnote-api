:PROPERTIES:
:ID: orgnote-api
:END:

#+html: <div align='center'>
#+html: <img src='./images/image.png' width='256px' height='256px'>
#+html: </div>
#+html: &nbsp;

#+TITLE: âœ¨ OrgNote API

#+html: <div align='center'>
#+html: <span class='badge-buymeacoffee'>
#+html: <a href='https://www.paypal.me/darkawower' title='Paypal' target='_blank'><img src='https://img.shields.io/badge/paypal-donate-blue.svg' alt='Buy Me A Coffee donate button' /></a>
#+html: </span>
#+html: <span class='badge-patreon'>
#+html: <a href='https://patreon.com/artawower' target='_blank' title='Donate to this project using Patreon'><img src='https://img.shields.io/badge/patreon-donate-orange.svg' alt='Patreon donate button' /></a>
#+html: </span>
#+html: <a href='https://wakatime.com/badge/github/Artawower/orgnote-api'><img src='https://wakatime.com/badge/github/Artawower/orgnote-api.svg' alt='wakatime'></a>
#+html: <a href='https://github.com/artawower/orgnote-api/actions/workflows/melpazoid.yml/badge.svg'><img src='https://github.com/artawower/orgnote-api/actions/workflows/melpazoid.yml/badge.svg' alt='ci' /></a>
#+html: </div>


* Introduction
This is API for [[https://github.com/artawower/orgnote][OrgNote]] extensions.

*Warning* This API is not stable yet, so it can be changed in the future.

You can find all available methods here. They are currently undocumented.


* Connected links
- [[https://github.com/artawower/orgnote][OrgNote entrypoint]]
- [[https://org-note.com/][Official website]]
- [[https://github.com/Artawower/orgnote-client][Org Note client]]
- [[./EXTENSIONS.org][List of extensions]] 
- [[https://github.com/Artawower/org-mode-ast][Typescript abstract syntax tree for org mode.]] 

* Extension structure
** Folder structure
*Compiled extension should be placed in the =index.js= file or =/dist/index.js= file in the public GIT repository*
** Extension entrypoint

Each extension should *export an object by default* with the following structure:
#+BEGIN_SRC typescript
interface Extension {
  [key: string]: unknown;

  onMounted: (api: OrgNoteApi) => Promise<void>;
  onUnmounted?: (api: OrgNoteApi) => Promise<void>;
}
#+END_SRC

** Extension manifest
Also, each extension should export manifest const:
#+BEGIN_SRC typescript
interface ExtensionManifest {
  /* Should be unique in the extension repo */
  name: string;
  version: string;
  category: 'theme' | 'extension' | 'language pack' | 'other';
  /* OrgNote api semver, 0.13.4 for example */
  apiVersion?: string;
  author?: string;
  description?: string;
  keywords?: string[];
  // Repository url
  sourceType: 'git' | 'file';
  /* Default value is README.org */
  readmeFilePath?: string;
  /* WIP */
  permissions?: Array<'files' | 'personal info' | '*' | 'third party'>;
  reloadRequired?: boolean;
  sourceUrl?: string;
  sponsor?: string[];
  development?: boolean;
  icon?: string;
}
#+END_SRC
* Publish to official repository
OrgNote has an official [[https://github.com/Artawower/orgnote-extensions][repository]] for user-based extensions. You can easily add new =recipes/<package>.json=
with =ExtensionManifest=

* Extensions example
/Themes/
- [[https://github.com/Artawower/orgnote-atom-one-dark][Atom One Dark theme (pure js)]]
/UI/ (WIP)
- Colorful Headlines (typescript + API package)

* Contribute guide
Any contribution is very much appreciated! Please read the [[./CONTRIBUTE.org][style guide]] before contributing to avoid misunderstandings!
I would also appreciate it if you would consider becoming my [[https://www.patreon.com/artawower][patron]]
